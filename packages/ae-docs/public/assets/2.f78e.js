(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"./packages/ae-docs/pages/GenericEffects.mdx":function(e,a,n){"use strict";n.r(a),n.d(a,"default",function(){return g});var s=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),m=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),t=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),o=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),p=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),r=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),c=n("./node_modules/react/index.js"),l=n.n(c),N=n("./node_modules/@mdx-js/tag/dist/index.js"),g=function(e){function a(e){var n;return Object(m.a)(this,a),(n=Object(o.a)(this,Object(p.a)(a).call(this,e))).layout=null,n}return Object(r.a)(a,e),Object(t.a)(a,[{key:"render",value:function(){var e=this.props,a=e.components;Object(s.a)(e,["components"]);return l.a.createElement(N.MDXTag,{name:"wrapper",components:a},l.a.createElement(N.MDXTag,{name:"h1",components:a,props:{id:"generic-effects"}},"Generic effects"),l.a.createElement(N.MDXTag,{name:"p",components:a},"Conceptually, a generic effect is both an effect and an operation but you can think of it as an operation that is grouped inside a GlobalEffect."),l.a.createElement(N.MDXTag,{name:"hr",components:a}),l.a.createElement(N.MDXTag,{name:"h2",components:a,props:{id:"import-it-in-your-project"}},"Import it in your project"),l.a.createElement(N.MDXTag,{name:"pre",components:a},l.a.createElement(N.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-js"}},l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"import")," { createGenericEffect } ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"from")," ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'@algebraic-effects/core'"),";\n",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"import")," { sleep, call, background, parallel, race } ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"from")," ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'@algebraic-effects/core/generic'"),";")),l.a.createElement(N.MDXTag,{name:"h2",components:a,props:{id:"api"}},"API"),l.a.createElement(N.MDXTag,{name:"h3",components:a,props:{id:"creategenericeffect"}},"createGenericEffect"),l.a.createElement(N.MDXTag,{name:"p",components:a},"Create a generic effect."),l.a.createElement(N.MDXTag,{name:"pre",components:a},l.a.createElement(N.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-haskell"}},l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-title"}},"createGenericEffect")," :: (",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-type"}},"String"),", ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-type"}},"OpSignature"),", ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-type"}},"OpBehavior"),") -> ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-type"}},"Operation"))),l.a.createElement(N.MDXTag,{name:"pre",components:a},l.a.createElement(N.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-js"}},l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," callMyProgram = createGenericEffect(\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'callMyProgram'"),",\n  func([",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'a'"),"], ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'b'"),"),\n  ({ call, resume, throwError }) => call(someProgram).fork(throwError, resume),\n);")),l.a.createElement(N.MDXTag,{name:"h3",components:a,props:{id:"sleep"}},"sleep"),l.a.createElement(N.MDXTag,{name:"p",components:a},"Sleep operation allows you to put add delay to your program."),l.a.createElement(N.MDXTag,{name:"pre",components:a},l.a.createElement(N.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-haskell"}},l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-title"}},"sleep")," :: ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-type"}},"Operation")," (",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-type"}},"Number"),") () ")),l.a.createElement(N.MDXTag,{name:"pre",components:a},l.a.createElement(N.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-js"}},l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"import")," { sleep } ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"from")," ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'@algebraic-effects/core/generic'"),";\n\n",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"// Program that returns 5 after 1 second"),"\n",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," program = ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"function"),"*(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}}),") "),"{\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," sleep(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"1000"),");\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"5"),";\n};")),l.a.createElement(N.MDXTag,{name:"h3",components:a,props:{id:"call-and-callmulti"}},"call and callMulti"),l.a.createElement(N.MDXTag,{name:"p",components:a},"Call another program from within your program with the same effects. callMulti is similar to call except that it runs in multiple continuations mode enabled."),l.a.createElement(N.MDXTag,{name:"pre",components:a},l.a.createElement(N.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-haskell"}},l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-title"}},"call")," :: ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-type"}},"Operation")," (",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-type"}},"Program")," ...a b,...a) b\n",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-title"}},"callMulti")," :: ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-type"}},"Operation")," (",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-type"}},"Program")," ...a b,...a) b")),l.a.createElement(N.MDXTag,{name:"pre",components:a},l.a.createElement(N.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-js"}},l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"import")," { sleep, call } ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"from")," ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'@algebraic-effects/core/generic'"),";\n\n",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"// Program that logs `Hello ${n}` every 1 second"),"\n",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," program = ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"function"),"*(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"count"),") "),"{\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," sleep(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"1000"),");\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," ConsoleEffect.log(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'Hello'"),", count);\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," call(program, count - ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"1"),");\n};")),l.a.createElement(N.MDXTag,{name:"h3",components:a,props:{id:"background"}},"background"),l.a.createElement(N.MDXTag,{name:"p",components:a},"Call another program from within your program with the same effects in the background."),l.a.createElement(N.MDXTag,{name:"pre",components:a},l.a.createElement(N.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-haskell"}},l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-title"}},"background")," :: ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-type"}},"Operation")," (",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-type"}},"Program")," ...a b,...a) ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-type"}},"CancelFunction"))),l.a.createElement(N.MDXTag,{name:"pre",components:a},l.a.createElement(N.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-js"}},l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"import")," { sleep, background } ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"from")," ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'@algebraic-effects/core/generic'"),";\n\n",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"// waitFor n seconds and log the duration to console"),"\n",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," waitFor = ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"function"),"*(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"delay"),") "),"{\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," sleep(delay);\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," ConsoleEffect.log(delay);\n}\n\n",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"// Program will log in the following sequence"),"\n",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"// >> 'Start', 31, 'Synchronous', 'Running in background', 32, 33"),"\n",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," program = ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"function"),"*(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}}),") "),"{\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," ConsoleEffect.log(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'Start'"),");\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," call(waitFor, ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"31"),");\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," ConsoleEffect.log(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'Synchronous'"),");\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," background(waitFor, ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"32"),");\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," ConsoleEffect.log(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'Running in background'"),");\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," call(waitFor, ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"33"),");\n};")),l.a.createElement(N.MDXTag,{name:"h3",components:a,props:{id:"race"}},"race"),l.a.createElement(N.MDXTag,{name:"p",components:a},"Call multiple programs at the same time and yields out with the first one that completes."),l.a.createElement(N.MDXTag,{name:"pre",components:a},l.a.createElement(N.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-haskell"}},l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-title"}},"race")," :: ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-type"}},"Operation")," [",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-type"}},"Program")," () b] b")),l.a.createElement(N.MDXTag,{name:"pre",components:a},l.a.createElement(N.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-js"}},l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"import")," { sleep, race } ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"from")," ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'@algebraic-effects/core/generic'"),";\n\n",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"function"),"* ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"programA"),"(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}}),") "),"{\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," sleep(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"100"),");\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"return")," ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'A'"),";\n}\n",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"function"),"* ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"programB"),"(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"key"),") "),"{\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," sleep(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"50"),");\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"return")," ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"`B-",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-subst"}},"${key}"),"`"),";\n}\n\n",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"// Program will resolve with `B-wow wins` as programB has a shorter delay and returns earlier"),"\n",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"function"),"* ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"myProgramRace"),"(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}}),") "),"{\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"// You can pass in the generator or the return value of a generator call (Generator instance)"),"\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," winner = ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," race([ programA, programB(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'wow'"),") ]);\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"return")," ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"`",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-subst"}},"${winner}")," wins`"),";\n}")),l.a.createElement(N.MDXTag,{name:"h3",components:a,props:{id:"parallel"}},"parallel"),l.a.createElement(N.MDXTag,{name:"p",components:a},"Call multiple programs at the same time and waits for each one of them to complete before moving forward."),l.a.createElement(N.MDXTag,{name:"pre",components:a},l.a.createElement(N.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-haskell"}},l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-title"}},"parallel")," :: ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-type"}},"Operation")," [",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-type"}},"Program")," () b] b")),l.a.createElement(N.MDXTag,{name:"pre",components:a},l.a.createElement(N.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-js"}},l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"import")," { sleep, parallel } ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"from")," ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'@algebraic-effects/core/generic'"),";\n\n",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"function"),"* ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"programA"),"(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}}),") "),"{\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," sleep(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"100"),");\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"return")," ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'A'"),";\n}\n",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"function"),"* ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"programB"),"(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}}),") "),"{\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," sleep(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"50"),");\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"return")," ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"`B`"),";\n}\n\n",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"// Program will resolve with ['A', 'B']"),"\n",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"function"),"* ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"program"),"(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}}),") "),"{\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"return")," ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," parallel([ programA, programB ]);\n}")),l.a.createElement(N.MDXTag,{name:"h3",components:a,props:{id:"awaitpromise"}},"awaitPromise"),l.a.createElement(N.MDXTag,{name:"p",components:a},"Wait a promise to resolve from your program.\nNOTE: In most cases you should be able to avoid this as most promise returning functions can be classified as a type of effect."),l.a.createElement(N.MDXTag,{name:"pre",components:a},l.a.createElement(N.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-haskell"}},l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-title"}},"awaitPromise")," :: ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-type"}},"Operation")," (",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-type"}},"Promise")," a) a")),l.a.createElement(N.MDXTag,{name:"pre",components:a},l.a.createElement(N.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-js"}},l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"import")," { awaitPromise } ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"from")," ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'@algebraic-effects/core/generic'"),";\n\n",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"// Program that calls your api and logs it to console"),"\n",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," program = ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"function"),"*(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}}),") "),"{\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," response = ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," awaitPromise(fetch(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'/api'"),"));\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," json = ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," awaitPromise(response.json());\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," ConsoleEffect.log(json);\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," json;\n}")),l.a.createElement(N.MDXTag,{name:"h3",components:a,props:{id:"cancel"}},"cancel"),l.a.createElement(N.MDXTag,{name:"p",components:a},"Wait a promise to resolve from your program.\nNOTE: In most cases you should be able to avoid this as most promise returning functions can be classified as a type of effect."),l.a.createElement(N.MDXTag,{name:"pre",components:a},l.a.createElement(N.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-haskell"}},l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-title"}},"cancel")," :: ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-type"}},"Operation")," * ()")),l.a.createElement(N.MDXTag,{name:"pre",components:a},l.a.createElement(N.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-js"}},l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"import")," { cancel } ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"from")," ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'@algebraic-effects/core/generic'"),";\n\n",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"// Program that calls your api and logs it to console"),"\n",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," program = ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"function"),"*(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}}),") "),"{\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," response = ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," awaitPromise(fetch(",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'/api'"),"));\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"if")," (isCancelled)\n    ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," cancel();\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," json = awaitPromise(response.json());\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," ConsoleEffect.log(json);\n  ",l.a.createElement(N.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"return")," json;\n}")))}}]),a}(l.a.Component)}}]);