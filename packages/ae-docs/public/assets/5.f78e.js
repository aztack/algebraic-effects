(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"./packages/ae-docs/pages/Scheduler.mdx":function(e,a,n){"use strict";n.r(a),n.d(a,"default",function(){return d});var s=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),t=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),m=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),p=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),r=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),c=n("./node_modules/react/index.js"),l=n.n(c),i=n("./node_modules/@mdx-js/tag/dist/index.js"),d=function(e){function a(e){var n;return Object(t.a)(this,a),(n=Object(m.a)(this,Object(p.a)(a).call(this,e))).layout=null,n}return Object(r.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this.props,a=e.components;Object(s.a)(e,["components"]);return l.a.createElement(i.MDXTag,{name:"wrapper",components:a},l.a.createElement(i.MDXTag,{name:"h1",components:a,props:{id:"scheduler-effect"}},"Scheduler Effect"),l.a.createElement(i.MDXTag,{name:"p",components:a},"Scheduler effect is a group of operations that allow you to work with scheduling time sensitive operations like waiting for next frame, waiting for idle and delays."),l.a.createElement(i.MDXTag,{name:"hr",components:a}),l.a.createElement(i.MDXTag,{name:"h2",components:a,props:{id:"import-it-in-your-project"}},"Import it in your project"),l.a.createElement(i.MDXTag,{name:"pre",components:a},l.a.createElement(i.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-js"}},l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"import")," { Scheduler } ",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"from")," ",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'@algebraic-effects/effects'"),";")),l.a.createElement(i.MDXTag,{name:"h2",components:a,props:{id:"api"}},"API"),l.a.createElement(i.MDXTag,{name:"h3",components:a,props:{id:"with-handler"}},"With handler"),l.a.createElement(i.MDXTag,{name:"ul",components:a},l.a.createElement(i.MDXTag,{name:"li",components:a,parentName:"ul"},l.a.createElement(i.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"Scheduler.scheduler"))),l.a.createElement(i.MDXTag,{name:"pre",components:a},l.a.createElement(i.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-haskell"}},l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-type"}},"Scheduler"),".scheduler :: ",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-type"}},"ConsoleInterface")," -> (",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-type"}},"Program"),"<",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-type"}},"Scheduler"),"> ...b c, ...b) -> ",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-type"}},"Task")," e c")),l.a.createElement(i.MDXTag,{name:"h3",components:a,props:{id:"operations"}},"Operations"),l.a.createElement(i.MDXTag,{name:"pre",components:a},l.a.createElement(i.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-js"}},"Scheduler = {\n  ",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"waitForNextFrame"),": func(),\n  ",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"waitForIdle"),": func([",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'?options'"),"]),\n  ",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"waitFor"),": func([",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'delay'"),"]),\n}")),l.a.createElement(i.MDXTag,{name:"h2",components:a,props:{id:"usage-examples"}},"Usage examples"),l.a.createElement(i.MDXTag,{name:"h3",components:a,props:{id:"wait-for-the-next-frame"}},"Wait for the next frame"),l.a.createElement(i.MDXTag,{name:"pre",components:a},l.a.createElement(i.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-js"}},l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"import")," { Scheduler } ",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"from")," ",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'@algebraic-effects/effects'"),";\n\n",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"function")," *",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"scrollToMyDiv"),"(",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}},"selector"),") "),"{\n  ",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"const")," scrollPosition = ",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," SomeDomEffect.getElementScrollPosition(selector);\n  ",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," Scheduler.waitForNextFrame();\n  ",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," SomeDomEffect.scrollTo(scrollPosition);\n};\n\nScheduler.scheduler\n  .with(SomeDomEffect.handler({ ",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-comment"}},"/* ... */")," }))\n  .run(scrollToMyDiv, ",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'#myElement'"),")\n  .fork();")),l.a.createElement(i.MDXTag,{name:"h3",components:a,props:{id:"do-stuff-when-idle"}},"Do stuff when idle"),l.a.createElement(i.MDXTag,{name:"pre",components:a},l.a.createElement(i.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-js"}},l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"function")," *",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"scrollWheneverPossible"),"(",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}}),") "),"{\n  ",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," Scheduler.waitForIdle();\n  ",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," call(scrollToMyDiv, ",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'#myElement'"),");\n};")),l.a.createElement(i.MDXTag,{name:"p",components:a},"You can also specify max duration to wait before forcing continuation"),l.a.createElement(i.MDXTag,{name:"pre",components:a},l.a.createElement(i.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-js"}},l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"function")," *",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"scrollWheneverPossibleOrAfter1sec"),"(",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}}),") "),"{\n  ",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," Scheduler.waitForIdle({ ",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-attr"}},"timeout"),": ",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"1000")," });\n  ",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," call(scrollToMyDiv, ",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'#myElement'"),");\n};")),l.a.createElement(i.MDXTag,{name:"h3",components:a,props:{id:"sleep"}},"sleep"),l.a.createElement(i.MDXTag,{name:"p",components:a},l.a.createElement(i.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"waitFor")," is the same as ",l.a.createElement(i.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"sleep")," generic effect."),l.a.createElement(i.MDXTag,{name:"p",components:a},"You should use this instead of ",l.a.createElement(i.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"sleep")," if you want to extend delay behavior because it is better to overwrite an effect operations behavior than a generic effect's behavior."),l.a.createElement(i.MDXTag,{name:"pre",components:a},l.a.createElement(i.MDXTag,{name:"code",components:a,parentName:"pre",props:{className:"hljs language-js"}},l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-function"}},l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-keyword"}},"function")," *",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-title"}},"scrollAfterSomeTime"),"(",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"span",props:{className:"hljs-params"}}),") "),"{\n  ",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," Scheduler.waitFor(",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-number"}},"1000"),");\n  ",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-keyword"}},"yield")," call(scrollToMyDiv, ",l.a.createElement(i.MDXTag,{name:"span",components:a,parentName:"code",props:{className:"hljs-string"}},"'#myElement'"),");\n};")))}}]),a}(l.a.Component)}}]);